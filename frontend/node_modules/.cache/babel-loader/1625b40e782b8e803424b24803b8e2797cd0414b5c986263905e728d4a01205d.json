{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\laksh\\\\Downloads\\\\ffl\\\\smart-dynamic-pricing-fixed\\\\frontend\\\\src\\\\components\\\\TimePricingChart.tsx\",\n  _s = $RefreshSig$();\n// src/components/TimePricingChart.tsx\nimport React, { useState } from 'react';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst TimePricingChart = ({\n  data\n}) => {\n  _s();\n  // Fallback placeholder\n  if (!data || !Array.isArray(data.timeSlots) || !Array.isArray(data.prices) || data.timeSlots.length === 0 || data.prices.length === 0) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"h-80 flex items-center justify-center bg-gray-100 text-gray-500 rounded-lg\",\n      children: \"No data available\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 18,\n      columnNumber: 7\n    }, this);\n  }\n  const labels = data.timeSlots;\n  const prices = data.prices.map(v => typeof v === 'number' ? v : 0);\n  const maxPrice = Math.max(...prices);\n  const minPrice = Math.min(...prices);\n  const range = maxPrice - minPrice || 1;\n\n  // Build SVG points string, flipping y because SVG y=0 is at top\n  const svgPoints = labels.map((_, i) => {\n    const x = i / (labels.length - 1) * 100;\n    // Normalize into [10,90] so points don't hug the very edges\n    const y = 90 - (prices[i] - minPrice) / range * 80;\n    return `${x},${y}`;\n  }).join(' ');\n\n  // Tooltip state\n  const [hoverIndex, setHoverIndex] = useState(null);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"h-80 relative overflow-hidden rounded-lg bg-white shadow\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"absolute inset-0 bg-gradient-to-r from-purple-50 to-indigo-50 opacity-50 rounded-lg\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 45,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"relative h-full p-4\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"flex items-center gap-2 mb-2 text-sm font-medium text-gray-700\",\n        children: [/*#__PURE__*/_jsxDEV(\"span\", {\n          className: \"w-3 h-3 bg-purple-600 rounded-full\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 49,\n          columnNumber: 11\n        }, this), \" Optimal Price\"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 48,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"svg\", {\n        viewBox: \"0 0 100 100\",\n        className: \"w-full h-full\",\n        children: [/*#__PURE__*/_jsxDEV(\"line\", {\n          x1: \"0\",\n          y1: \"10\",\n          x2: \"100\",\n          y2: \"10\",\n          stroke: \"#ddd\",\n          strokeWidth: \"0.5\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 55,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"line\", {\n          x1: \"0\",\n          y1: \"50\",\n          x2: \"100\",\n          y2: \"50\",\n          stroke: \"#ddd\",\n          strokeWidth: \"0.5\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 56,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"line\", {\n          x1: \"0\",\n          y1: \"90\",\n          x2: \"100\",\n          y2: \"90\",\n          stroke: \"#ddd\",\n          strokeWidth: \"0.5\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 57,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"polyline\", {\n          points: svgPoints,\n          fill: \"none\",\n          stroke: \"#7C3AED\",\n          strokeWidth: \"2\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 60,\n          columnNumber: 11\n        }, this), labels.map((lbl, i) => {\n          const [xStr, yStr] = svgPoints.split(' ')[i].split(',');\n          const x = parseFloat(xStr);\n          const y = parseFloat(yStr);\n          return /*#__PURE__*/_jsxDEV(\"g\", {\n            onMouseEnter: () => setHoverIndex(i),\n            onMouseLeave: () => setHoverIndex(null),\n            className: \"cursor-pointer\",\n            children: [/*#__PURE__*/_jsxDEV(\"circle\", {\n              cx: x,\n              cy: y,\n              r: 2.5,\n              fill: \"#7C3AED\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 79,\n              columnNumber: 17\n            }, this), hoverIndex === i && /*#__PURE__*/_jsxDEV(\"foreignObject\", {\n              x: x - 12,\n              y: y - 20,\n              width: 80,\n              height: 20,\n              children: /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"bg-white text-xs text-purple-800 px-2 py-0.5 rounded shadow\",\n                children: [\"$\", prices[i].toFixed(2)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 82,\n                columnNumber: 21\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 81,\n              columnNumber: 19\n            }, this)]\n          }, i, true, {\n            fileName: _jsxFileName,\n            lineNumber: 73,\n            columnNumber: 15\n          }, this);\n        }), labels.map((lbl, i) => {\n          const x = i / (labels.length - 1) * 100;\n          return /*#__PURE__*/_jsxDEV(\"text\", {\n            x: x,\n            y: 99,\n            textAnchor: \"middle\",\n            fontSize: \"3.5\",\n            fill: \"#555\",\n            children: lbl\n          }, i, false, {\n            fileName: _jsxFileName,\n            lineNumber: 95,\n            columnNumber: 15\n          }, this);\n        })]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 53,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 46,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 44,\n    columnNumber: 5\n  }, this);\n};\n_s(TimePricingChart, \"7XGtNr9BsKihW2yVz9tMMtR5Dek=\");\n_c = TimePricingChart;\nexport default TimePricingChart;\nvar _c;\n$RefreshReg$(_c, \"TimePricingChart\");","map":{"version":3,"names":["React","useState","jsxDEV","_jsxDEV","TimePricingChart","data","_s","Array","isArray","timeSlots","prices","length","className","children","fileName","_jsxFileName","lineNumber","columnNumber","labels","map","v","maxPrice","Math","max","minPrice","min","range","svgPoints","_","i","x","y","join","hoverIndex","setHoverIndex","viewBox","x1","y1","x2","y2","stroke","strokeWidth","points","fill","lbl","xStr","yStr","split","parseFloat","onMouseEnter","onMouseLeave","cx","cy","r","width","height","toFixed","textAnchor","fontSize","_c","$RefreshReg$"],"sources":["C:/Users/laksh/Downloads/ffl/smart-dynamic-pricing-fixed/frontend/src/components/TimePricingChart.tsx"],"sourcesContent":["// src/components/TimePricingChart.tsx\nimport React, { useState } from 'react';\n\ntype TimePricingChartProps = {\n  data?: { timeSlots?: string[]; prices?: number[] };\n};\n\nconst TimePricingChart: React.FC<TimePricingChartProps> = ({ data }) => {\n  // Fallback placeholder\n  if (\n    !data ||\n    !Array.isArray(data.timeSlots) ||\n    !Array.isArray(data.prices) ||\n    data.timeSlots.length === 0 ||\n    data.prices.length === 0\n  ) {\n    return (\n      <div className=\"h-80 flex items-center justify-center bg-gray-100 text-gray-500 rounded-lg\">\n        No data available\n      </div>\n    );\n  }\n\n  const labels = data.timeSlots!;\n  const prices = data.prices!.map((v) => (typeof v === 'number' ? v : 0));\n  const maxPrice = Math.max(...prices);\n  const minPrice = Math.min(...prices);\n  const range = maxPrice - minPrice || 1;\n\n  // Build SVG points string, flipping y because SVG y=0 is at top\n  const svgPoints = labels\n    .map((_, i) => {\n      const x = (i / (labels.length - 1)) * 100;\n      // Normalize into [10,90] so points don't hug the very edges\n      const y = 90 - ((prices[i] - minPrice) / range) * 80;\n      return `${x},${y}`;\n    })\n    .join(' ');\n\n  // Tooltip state\n  const [hoverIndex, setHoverIndex] = useState<number | null>(null);\n\n  return (\n    <div className=\"h-80 relative overflow-hidden rounded-lg bg-white shadow\">\n      <div className=\"absolute inset-0 bg-gradient-to-r from-purple-50 to-indigo-50 opacity-50 rounded-lg\"></div>\n      <div className=\"relative h-full p-4\">\n        {/* Legend */}\n        <div className=\"flex items-center gap-2 mb-2 text-sm font-medium text-gray-700\">\n          <span className=\"w-3 h-3 bg-purple-600 rounded-full\" /> Optimal Price\n        </div>\n\n        {/* SVG Chart */}\n        <svg viewBox=\"0 0 100 100\" className=\"w-full h-full\">\n          {/* X/Y gridlines */}\n          <line x1=\"0\" y1=\"10\" x2=\"100\" y2=\"10\" stroke=\"#ddd\" strokeWidth=\"0.5\" />\n          <line x1=\"0\" y1=\"50\" x2=\"100\" y2=\"50\" stroke=\"#ddd\" strokeWidth=\"0.5\" />\n          <line x1=\"0\" y1=\"90\" x2=\"100\" y2=\"90\" stroke=\"#ddd\" strokeWidth=\"0.5\" />\n\n          {/* Polyline */}\n          <polyline\n            points={svgPoints}\n            fill=\"none\"\n            stroke=\"#7C3AED\"\n            strokeWidth=\"2\"\n          />\n\n          {/* Markers */}\n          {labels.map((lbl, i) => {\n            const [xStr, yStr] = svgPoints.split(' ')[i].split(',');\n            const x = parseFloat(xStr);\n            const y = parseFloat(yStr);\n            return (\n              <g\n                key={i}\n                onMouseEnter={() => setHoverIndex(i)}\n                onMouseLeave={() => setHoverIndex(null)}\n                className=\"cursor-pointer\"\n              >\n                <circle cx={x} cy={y} r={2.5} fill=\"#7C3AED\" />\n                {hoverIndex === i && (\n                  <foreignObject x={x - 12} y={y - 20} width={80} height={20}>\n                    <div className=\"bg-white text-xs text-purple-800 px-2 py-0.5 rounded shadow\">\n                      ${prices[i].toFixed(2)}\n                    </div>\n                  </foreignObject>\n                )}\n              </g>\n            );\n          })}\n\n          {/* X-axis labels */}\n          {labels.map((lbl, i) => {\n            const x = (i / (labels.length - 1)) * 100;\n            return (\n              <text\n                key={i}\n                x={x}\n                y={99}\n                textAnchor=\"middle\"\n                fontSize=\"3.5\"\n                fill=\"#555\"\n              >\n                {lbl}\n              </text>\n            );\n          })}\n        </svg>\n      </div>\n    </div>\n  );\n};\n\nexport default TimePricingChart;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}