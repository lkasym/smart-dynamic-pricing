{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\laksh\\\\Downloads\\\\ffl\\\\smart-dynamic-pricing-fixed\\\\frontend\\\\src\\\\components\\\\CustomerSegmentPie.tsx\";\n// src/components/CustomerSegmentPie.tsx\nimport React from 'react';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst CustomerSegmentPie = ({\n  data = []\n}) => {\n  // Only use incoming data if every item has a numeric percentage\n  const hasValidData = Array.isArray(data) && data.length > 0 && data.every(s => typeof s.percentage === 'number');\n\n  // Fallback default segments\n  const segments = hasValidData ? data : [{\n    name: 'Price Sensitive',\n    percentage: 35,\n    color: '#FF6384'\n  }, {\n    name: 'Quality Focused',\n    percentage: 25,\n    color: '#36A2EB'\n  }, {\n    name: 'Brand Loyal',\n    percentage: 20,\n    color: '#FFCE56'\n  }, {\n    name: 'Convenience Seekers',\n    percentage: 15,\n    color: '#4BC0C0'\n  }, {\n    name: 'Luxury Buyers',\n    percentage: 5,\n    color: '#9966FF'\n  }];\n\n  // If there's genuinely no data to show, render a placeholder\n  if (segments.length === 0) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"flex items-center justify-center h-full bg-gray-50 rounded-lg\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"text-center p-6\",\n        children: /*#__PURE__*/_jsxDEV(\"h3\", {\n          className: \"mt-2 text-sm font-medium text-gray-900\",\n          children: \"No segments\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 37,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 36,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 35,\n      columnNumber: 7\n    }, this);\n  }\n  const total = segments.reduce((sum, s) => sum + s.percentage, 0) || 1;\n  const normalized = segments.map(s => ({\n    ...s,\n    fraction: s.percentage / total * 100\n  }));\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"h-full relative overflow-hidden\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"absolute inset-0 bg-gradient-to-r from-purple-50 to-pink-50 opacity-50 rounded-lg\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 51,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"relative h-full flex\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"flex-1 flex items-center justify-center\",\n        children: /*#__PURE__*/_jsxDEV(\"svg\", {\n          viewBox: \"0 0 100 100\",\n          className: \"w-4/5 h-4/5\",\n          children: normalized.map((seg, i) => {\n            const startAngle = normalized.slice(0, i).reduce((sum, s) => sum + s.fraction / 100 * 360, 0) - 90;\n            const angle = seg.fraction / 100 * 360;\n            const endAngle = startAngle + angle;\n            const startRad = startAngle * Math.PI / 180;\n            const endRad = endAngle * Math.PI / 180;\n            const x1 = 50 + 40 * Math.cos(startRad);\n            const y1 = 50 + 40 * Math.sin(startRad);\n            const x2 = 50 + 40 * Math.cos(endRad);\n            const y2 = 50 + 40 * Math.sin(endRad);\n            const largeArc = angle > 180 ? 1 : 0;\n            const d = `M50 50 L ${x1} ${y1} A 40 40 0 ${largeArc} 1 ${x2} ${y2} Z`;\n            return /*#__PURE__*/_jsxDEV(\"path\", {\n              d: d,\n              fill: seg.color,\n              stroke: \"#fff\",\n              strokeWidth: \"1\",\n              className: \"transition-all duration-500 ease-out\",\n              style: {\n                transformOrigin: 'center'\n              }\n            }, i, false, {\n              fileName: _jsxFileName,\n              lineNumber: 72,\n              columnNumber: 17\n            }, this);\n          })\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 54,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 53,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"w-1/3 flex flex-col justify-center pr-4\",\n        children: normalized.map((seg, i) => /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex items-center mb-2\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"w-3 h-3 rounded-full mr-2\",\n            style: {\n              backgroundColor: seg.color\n            }\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 88,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex-1\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"text-xs font-medium truncate\",\n              children: seg.name\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 93,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"text-xs text-gray-500\",\n              children: [typeof seg.fraction === 'number' ? seg.fraction.toFixed(1) : '0.0', \"%\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 94,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 92,\n            columnNumber: 15\n          }, this)]\n        }, i, true, {\n          fileName: _jsxFileName,\n          lineNumber: 87,\n          columnNumber: 13\n        }, this))\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 85,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 52,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 50,\n    columnNumber: 5\n  }, this);\n};\n_c = CustomerSegmentPie;\nexport default CustomerSegmentPie;\nvar _c;\n$RefreshReg$(_c, \"CustomerSegmentPie\");","map":{"version":3,"names":["React","jsxDEV","_jsxDEV","CustomerSegmentPie","data","hasValidData","Array","isArray","length","every","s","percentage","segments","name","color","className","children","fileName","_jsxFileName","lineNumber","columnNumber","total","reduce","sum","normalized","map","fraction","viewBox","seg","i","startAngle","slice","angle","endAngle","startRad","Math","PI","endRad","x1","cos","y1","sin","x2","y2","largeArc","d","fill","stroke","strokeWidth","style","transformOrigin","backgroundColor","toFixed","_c","$RefreshReg$"],"sources":["C:/Users/laksh/Downloads/ffl/smart-dynamic-pricing-fixed/frontend/src/components/CustomerSegmentPie.tsx"],"sourcesContent":["// src/components/CustomerSegmentPie.tsx\nimport React from 'react';\n\ntype Segment = {\n  name: string;\n  percentage: number;\n  color?: string;\n};\n\ntype CustomerSegmentPieProps = {\n  data?: Segment[];\n};\n\nconst CustomerSegmentPie: React.FC<CustomerSegmentPieProps> = ({ data = [] }) => {\n  // Only use incoming data if every item has a numeric percentage\n  const hasValidData =\n    Array.isArray(data) &&\n    data.length > 0 &&\n    data.every((s) => typeof s.percentage === 'number');\n\n  // Fallback default segments\n  const segments: Segment[] = hasValidData\n    ? data!\n    : [\n        { name: 'Price Sensitive', percentage: 35, color: '#FF6384' },\n        { name: 'Quality Focused', percentage: 25, color: '#36A2EB' },\n        { name: 'Brand Loyal', percentage: 20, color: '#FFCE56' },\n        { name: 'Convenience Seekers', percentage: 15, color: '#4BC0C0' },\n        { name: 'Luxury Buyers', percentage: 5, color: '#9966FF' },\n      ];\n\n  // If there's genuinely no data to show, render a placeholder\n  if (segments.length === 0) {\n    return (\n      <div className=\"flex items-center justify-center h-full bg-gray-50 rounded-lg\">\n        <div className=\"text-center p-6\">\n          <h3 className=\"mt-2 text-sm font-medium text-gray-900\">No segments</h3>\n        </div>\n      </div>\n    );\n  }\n\n  const total = segments.reduce((sum, s) => sum + s.percentage, 0) || 1;\n  const normalized = segments.map((s) => ({\n    ...s,\n    fraction: (s.percentage / total) * 100,\n  }));\n\n  return (\n    <div className=\"h-full relative overflow-hidden\">\n      <div className=\"absolute inset-0 bg-gradient-to-r from-purple-50 to-pink-50 opacity-50 rounded-lg\"></div>\n      <div className=\"relative h-full flex\">\n        <div className=\"flex-1 flex items-center justify-center\">\n          <svg viewBox=\"0 0 100 100\" className=\"w-4/5 h-4/5\">\n            {normalized.map((seg, i) => {\n              const startAngle =\n                normalized\n                  .slice(0, i)\n                  .reduce((sum, s) => sum + (s.fraction / 100) * 360, 0) - 90;\n              const angle = (seg.fraction / 100) * 360;\n              const endAngle = startAngle + angle;\n              const startRad = (startAngle * Math.PI) / 180;\n              const endRad = (endAngle * Math.PI) / 180;\n              const x1 = 50 + 40 * Math.cos(startRad);\n              const y1 = 50 + 40 * Math.sin(startRad);\n              const x2 = 50 + 40 * Math.cos(endRad);\n              const y2 = 50 + 40 * Math.sin(endRad);\n              const largeArc = angle > 180 ? 1 : 0;\n              const d = `M50 50 L ${x1} ${y1} A 40 40 0 ${largeArc} 1 ${x2} ${y2} Z`;\n\n              return (\n                <path\n                  key={i}\n                  d={d}\n                  fill={seg.color}\n                  stroke=\"#fff\"\n                  strokeWidth=\"1\"\n                  className=\"transition-all duration-500 ease-out\"\n                  style={{ transformOrigin: 'center' }}\n                />\n              );\n            })}\n          </svg>\n        </div>\n        <div className=\"w-1/3 flex flex-col justify-center pr-4\">\n          {normalized.map((seg, i) => (\n            <div key={i} className=\"flex items-center mb-2\">\n              <div\n                className=\"w-3 h-3 rounded-full mr-2\"\n                style={{ backgroundColor: seg.color }}\n              />\n              <div className=\"flex-1\">\n                <div className=\"text-xs font-medium truncate\">{seg.name}</div>\n                <div className=\"text-xs text-gray-500\">\n                  {/* Guard `.toFixed` */}\n                  {typeof seg.fraction === 'number'\n                    ? seg.fraction.toFixed(1)\n                    : '0.0'}\n                  %\n                </div>\n              </div>\n            </div>\n          ))}\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default CustomerSegmentPie;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}