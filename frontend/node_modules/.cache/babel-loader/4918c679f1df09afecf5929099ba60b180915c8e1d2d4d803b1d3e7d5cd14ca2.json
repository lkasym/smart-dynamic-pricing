{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\laksh\\\\Downloads\\\\ffl\\\\smart-dynamic-pricing-fixed\\\\frontend\\\\src\\\\components\\\\CustomerSegmentPie.tsx\",\n  _s = $RefreshSig$();\n// src/components/CustomerRetentionChart.tsx\n\nimport React, { useState, useEffect } from 'react';\nimport { Chart as ChartJS, CategoryScale, LinearScale, PointElement, LineElement, Title, Tooltip, Legend } from 'chart.js';\nimport { Line } from 'react-chartjs-2';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nChartJS.register(CategoryScale, LinearScale, PointElement, LineElement, Title, Tooltip, Legend);\nconst CustomerRetentionChart = ({\n  data\n}) => {\n  _s();\n  const [chartData, setChartData] = useState({\n    labels: [],\n    datasets: [{\n      label: 'Customer Retention (%)',\n      data: [],\n      fill: true,\n      tension: 0.4,\n      borderWidth: 2,\n      pointRadius: 3,\n      backgroundColor: 'rgba(54, 162, 235, 0.2)',\n      borderColor: 'rgba(54, 162, 235, 1)'\n    }]\n  });\n  useEffect(() => {\n    var _data$months, _data$retention;\n    const months = (_data$months = data === null || data === void 0 ? void 0 : data.months) !== null && _data$months !== void 0 ? _data$months : ['Jan', 'Feb', 'Mar', 'Apr', 'May', 'Jun'];\n    const retention = (_data$retention = data === null || data === void 0 ? void 0 : data.retention) !== null && _data$retention !== void 0 ? _data$retention : [95, 92, 88, 90, 93, 95];\n    setChartData({\n      labels: months,\n      datasets: [{\n        label: 'Customer Retention (%)',\n        data: retention,\n        fill: true,\n        tension: 0.4,\n        borderWidth: 2,\n        pointRadius: 3,\n        backgroundColor: 'rgba(54, 162, 235, 0.2)',\n        borderColor: 'rgba(54, 162, 235, 1)'\n      }]\n    });\n  }, [data]);\n  const options = {\n    responsive: true,\n    maintainAspectRatio: false,\n    plugins: {\n      legend: {\n        position: 'top',\n        labels: {\n          font: {\n            size: 12\n          }\n        }\n      },\n      title: {\n        display: false\n      },\n      tooltip: {\n        callbacks: {\n          label: ctx => `${ctx.parsed.y}%`\n        }\n      }\n    },\n    scales: {\n      x: {\n        grid: {\n          display: false\n        }\n      },\n      y: {\n        beginAtZero: true,\n        max: 100,\n        ticks: {\n          // correct signature: (tickValue, index, ticks) => ...\n          callback: tickValue => {\n            return `${tickValue}%`;\n          }\n        },\n        grid: {\n          color: 'rgba(0, 0, 0, 0.05)'\n        }\n      }\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"h-64 w-full bg-white rounded-xl shadow-sm p-4\",\n    children: /*#__PURE__*/_jsxDEV(Line, {\n      data: chartData,\n      options: options\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 111,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 110,\n    columnNumber: 5\n  }, this);\n};\n_s(CustomerRetentionChart, \"2PLBAQlWVkyAXbQHrbOOkuj0zNY=\");\n_c = CustomerRetentionChart;\nexport default CustomerRetentionChart;\nvar _c;\n$RefreshReg$(_c, \"CustomerRetentionChart\");","map":{"version":3,"names":["React","useState","useEffect","Chart","ChartJS","CategoryScale","LinearScale","PointElement","LineElement","Title","Tooltip","Legend","Line","jsxDEV","_jsxDEV","register","CustomerRetentionChart","data","_s","chartData","setChartData","labels","datasets","label","fill","tension","borderWidth","pointRadius","backgroundColor","borderColor","_data$months","_data$retention","months","retention","options","responsive","maintainAspectRatio","plugins","legend","position","font","size","title","display","tooltip","callbacks","ctx","parsed","y","scales","x","grid","beginAtZero","max","ticks","callback","tickValue","color","className","children","fileName","_jsxFileName","lineNumber","columnNumber","_c","$RefreshReg$"],"sources":["C:/Users/laksh/Downloads/ffl/smart-dynamic-pricing-fixed/frontend/src/components/CustomerSegmentPie.tsx"],"sourcesContent":["// src/components/CustomerRetentionChart.tsx\n\nimport React, { useState, useEffect } from 'react';\nimport {\n  Chart as ChartJS,\n  CategoryScale,\n  LinearScale,\n  PointElement,\n  LineElement,\n  Title,\n  Tooltip,\n  Legend,\n  ChartOptions,\n} from 'chart.js';\nimport { Line } from 'react-chartjs-2';\n\nChartJS.register(\n  CategoryScale,\n  LinearScale,\n  PointElement,\n  LineElement,\n  Title,\n  Tooltip,\n  Legend\n);\n\ntype CustomerRetentionChartProps = {\n  data?: {\n    months: string[];\n    retention: number[];\n  };\n};\n\nconst CustomerRetentionChart: React.FC<CustomerRetentionChartProps> = ({ data }) => {\n  const [chartData, setChartData] = useState({\n    labels: [] as string[],\n    datasets: [\n      {\n        label: 'Customer Retention (%)',\n        data: [] as number[],\n        fill: true,\n        tension: 0.4,\n        borderWidth: 2,\n        pointRadius: 3,\n        backgroundColor: 'rgba(54, 162, 235, 0.2)',\n        borderColor: 'rgba(54, 162, 235, 1)',\n      },\n    ],\n  });\n\n  useEffect(() => {\n    const months = data?.months ?? ['Jan', 'Feb', 'Mar', 'Apr', 'May', 'Jun'];\n    const retention = data?.retention ?? [95, 92, 88, 90, 93, 95];\n\n    setChartData({\n      labels: months,\n      datasets: [\n        {\n          label: 'Customer Retention (%)',\n          data: retention,\n          fill: true,\n          tension: 0.4,\n          borderWidth: 2,\n          pointRadius: 3,\n          backgroundColor: 'rgba(54, 162, 235, 0.2)',\n          borderColor: 'rgba(54, 162, 235, 1)',\n        },\n      ],\n    });\n  }, [data]);\n\n  const options: ChartOptions<'line'> = {\n    responsive: true,\n    maintainAspectRatio: false,\n    plugins: {\n      legend: {\n        position: 'top',\n        labels: { font: { size: 12 } },\n      },\n      title: {\n        display: false,\n      },\n      tooltip: {\n        callbacks: {\n          label: (ctx) => `${ctx.parsed.y}%`,\n        },\n      },\n    },\n    scales: {\n      x: {\n        grid: { display: false },\n      },\n      y: {\n        beginAtZero: true,\n        max: 100,\n        ticks: {\n          // correct signature: (tickValue, index, ticks) => ...\n          callback: (tickValue: string | number): string => {\n            return `${tickValue}%`;\n          },\n        },\n        grid: {\n          color: 'rgba(0, 0, 0, 0.05)',\n        },\n      },\n    },\n  };\n\n  return (\n    <div className=\"h-64 w-full bg-white rounded-xl shadow-sm p-4\">\n      <Line data={chartData} options={options} />\n    </div>\n  );\n};\n\nexport default CustomerRetentionChart;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}