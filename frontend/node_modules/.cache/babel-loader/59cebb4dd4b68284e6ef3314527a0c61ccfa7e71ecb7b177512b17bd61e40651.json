{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\laksh\\\\Downloads\\\\ffl\\\\smart-dynamic-pricing-fixed\\\\frontend\\\\src\\\\components\\\\PriceSensitivityHeatmap.tsx\";\n// src/components/PriceSensitivityHeatmap.tsx\nimport React from 'react';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst PriceSensitivityHeatmap = ({\n  data = []\n}) => {\n  if (!data.length) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"h-64 flex items-center justify-center bg-gray-100 text-gray-500 rounded-lg\",\n      children: \"No data available\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 21,\n      columnNumber: 7\n    }, this);\n  }\n\n  // Flatten points\n  const points = data.flatMap(datum => datum.pricePoints.map((price, i) => {\n    var _datum$demand$i;\n    return {\n      product: datum.product,\n      x: price,\n      y: (_datum$demand$i = datum.demand[i]) !== null && _datum$demand$i !== void 0 ? _datum$demand$i : 0\n    };\n  }));\n\n  // Compute ranges\n  const xs = points.map(p => p.x);\n  const ys = points.map(p => p.y);\n  const minX = Math.min(...xs);\n  const maxX = Math.max(...xs);\n  const minY = Math.min(...ys);\n  const maxY = Math.max(...ys);\n  const rangeX = maxX - minX || 1;\n  const rangeY = maxY - minY || 1;\n\n  // Group by product\n  const groups = points.reduce((acc, pt) => {\n    acc[pt.product] = acc[pt.product] || [];\n    acc[pt.product].push(pt);\n    return acc;\n  }, {});\n\n  // Assign colors\n  const productNames = Object.keys(groups);\n  const colors = {};\n  productNames.forEach((name, idx) => {\n    const hue = idx / productNames.length * 360;\n    colors[name] = `hsl(${hue}, 70%, 60%)`;\n  });\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"h-64 relative overflow-hidden rounded-lg bg-white shadow-md\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"absolute inset-0 bg-gradient-to-r from-yellow-50 to-orange-50 opacity-30 rounded-lg\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 60,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"relative h-full p-4 flex flex-col\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"flex flex-wrap mb-2\",\n        children: productNames.map(name => /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex items-center mr-4 mb-1 text-xs\",\n          children: [/*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"w-3 h-3 rounded-full mr-1\",\n            style: {\n              backgroundColor: colors[name]\n            }\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 67,\n            columnNumber: 15\n          }, this), name]\n        }, name, true, {\n          fileName: _jsxFileName,\n          lineNumber: 66,\n          columnNumber: 13\n        }, this))\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 64,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"flex-1 relative border-l border-b border-gray-300\",\n        children: points.map((pt, i) => {\n          const left = (pt.x - minX) / rangeX * 100;\n          const bottom = (pt.y - minY) / rangeY * 100;\n          return /*#__PURE__*/_jsxDEV(\"div\", {\n            title: `${pt.product}\\nPrice: $${pt.x.toFixed(2)}\\nDemand: ${pt.y}`,\n            className: \"absolute w-4 h-4 rounded-full -ml-2 -mt-2\",\n            style: {\n              left: `${left}%`,\n              bottom: `${bottom}%`,\n              backgroundColor: colors[pt.product],\n              opacity: 0.8\n            }\n          }, i, false, {\n            fileName: _jsxFileName,\n            lineNumber: 82,\n            columnNumber: 15\n          }, this);\n        })\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 77,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"flex justify-between text-xs text-gray-500 mt-2\",\n        children: [/*#__PURE__*/_jsxDEV(\"span\", {\n          children: [\"$\", minX.toFixed(2)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 94,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n          children: [\"$\", maxX.toFixed(2)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 95,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 93,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"absolute top-1/2 left-0 transform -translate-y-1/2 -rotate-90 origin-left text-xs text-gray-500\",\n        children: \"Demand\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 97,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 62,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 58,\n    columnNumber: 5\n  }, this);\n};\n_c = PriceSensitivityHeatmap;\nexport default PriceSensitivityHeatmap;\nvar _c;\n$RefreshReg$(_c, \"PriceSensitivityHeatmap\");","map":{"version":3,"names":["React","jsxDEV","_jsxDEV","PriceSensitivityHeatmap","data","length","className","children","fileName","_jsxFileName","lineNumber","columnNumber","points","flatMap","datum","pricePoints","map","price","i","_datum$demand$i","product","x","y","demand","xs","p","ys","minX","Math","min","maxX","max","minY","maxY","rangeX","rangeY","groups","reduce","acc","pt","push","productNames","Object","keys","colors","forEach","name","idx","hue","style","backgroundColor","left","bottom","title","toFixed","opacity","_c","$RefreshReg$"],"sources":["C:/Users/laksh/Downloads/ffl/smart-dynamic-pricing-fixed/frontend/src/components/PriceSensitivityHeatmap.tsx"],"sourcesContent":["// src/components/PriceSensitivityHeatmap.tsx\nimport React from 'react';\n\ntype HeatmapDatum = {\n  product: string;\n  pricePoints: number[];\n  demand: number[];\n};\n\ntype PriceSensitivityHeatmapProps = {\n  /**\n   * Array of products with their price points and corresponding demand values.\n   * Example: [{ product: 'Headphones', pricePoints: [50,60,...], demand: [120,100,...] }, ...]\n   */\n  data?: HeatmapDatum[];\n};\n\nconst PriceSensitivityHeatmap: React.FC<PriceSensitivityHeatmapProps> = ({ data = [] }) => {\n  if (!data.length) {\n    return (\n      <div className=\"h-64 flex items-center justify-center bg-gray-100 text-gray-500 rounded-lg\">\n        No data available\n      </div>\n    );\n  }\n\n  // Flatten points\n  const points = data.flatMap(datum =>\n    datum.pricePoints.map((price, i) => ({ product: datum.product, x: price, y: datum.demand[i] ?? 0 }))\n  );\n\n  // Compute ranges\n  const xs = points.map(p => p.x);\n  const ys = points.map(p => p.y);\n  const minX = Math.min(...xs);\n  const maxX = Math.max(...xs);\n  const minY = Math.min(...ys);\n  const maxY = Math.max(...ys);\n  const rangeX = maxX - minX || 1;\n  const rangeY = maxY - minY || 1;\n\n  // Group by product\n  const groups = points.reduce<Record<string, typeof points>>((acc, pt) => {\n    acc[pt.product] = acc[pt.product] || [];\n    acc[pt.product].push(pt);\n    return acc;\n  }, {} as Record<string, typeof points>);\n\n  // Assign colors\n  const productNames = Object.keys(groups);\n  const colors: Record<string, string> = {};\n  productNames.forEach((name, idx) => {\n    const hue = (idx / productNames.length) * 360;\n    colors[name] = `hsl(${hue}, 70%, 60%)`;\n  });\n\n  return (\n    <div className=\"h-64 relative overflow-hidden rounded-lg bg-white shadow-md\">\n      {/* Background gradient */}\n      <div className=\"absolute inset-0 bg-gradient-to-r from-yellow-50 to-orange-50 opacity-30 rounded-lg\" />\n\n      <div className=\"relative h-full p-4 flex flex-col\">\n        {/* Legend */}\n        <div className=\"flex flex-wrap mb-2\">\n          {productNames.map(name => (\n            <div key={name} className=\"flex items-center mr-4 mb-1 text-xs\">\n              <span\n                className=\"w-3 h-3 rounded-full mr-1\"\n                style={{ backgroundColor: colors[name] }}\n              />\n              {name}\n            </div>\n          ))}\n        </div>\n\n        {/* Plot area */}\n        <div className=\"flex-1 relative border-l border-b border-gray-300\">\n          {points.map((pt, i) => {\n            const left = ((pt.x - minX) / rangeX) * 100;\n            const bottom = ((pt.y - minY) / rangeY) * 100;\n            return (\n              <div\n                key={i}\n                title={`${pt.product}\\nPrice: $${pt.x.toFixed(2)}\\nDemand: ${pt.y}`}\n                className=\"absolute w-4 h-4 rounded-full -ml-2 -mt-2\"\n                style={{ left: `${left}%`, bottom: `${bottom}%`, backgroundColor: colors[pt.product], opacity: 0.8 }}\n              />\n            );\n          })}\n        </div>\n\n        {/* Axis labels */}\n        <div className=\"flex justify-between text-xs text-gray-500 mt-2\">\n          <span>${minX.toFixed(2)}</span>\n          <span>${maxX.toFixed(2)}</span>\n        </div>\n        <div className=\"absolute top-1/2 left-0 transform -translate-y-1/2 -rotate-90 origin-left text-xs text-gray-500\">\n          Demand\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default PriceSensitivityHeatmap;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}