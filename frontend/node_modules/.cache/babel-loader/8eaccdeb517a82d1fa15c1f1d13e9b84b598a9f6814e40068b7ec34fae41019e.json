{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\laksh\\\\Downloads\\\\ffl\\\\smart-dynamic-pricing-fixed\\\\frontend\\\\src\\\\components\\\\PriceSensitivityHeatmap.tsx\";\nimport React from 'react';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst PriceSensitivityHeatmap = ({\n  data = []\n}) => {\n  // No data → placeholder\n  if (!Array.isArray(data) || data.length === 0) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"h-full flex items-center justify-center bg-gray-100 text-gray-500 rounded-lg\",\n      children: \"No data available\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 22,\n      columnNumber: 7\n    }, this);\n  }\n\n  // Flatten all (x,y) points across products\n  const points = data.flatMap(d => d.pricePoints.map((price, idx) => {\n    var _d$demand$idx;\n    return {\n      product: d.product,\n      x: price,\n      y: (_d$demand$idx = d.demand[idx]) !== null && _d$demand$idx !== void 0 ? _d$demand$idx : 0\n    };\n  }));\n\n  // Compute extents for scaling\n  const xs = points.map(pt => pt.x);\n  const ys = points.map(pt => pt.y);\n  const minX = Math.min(...xs);\n  const maxX = Math.max(...xs);\n  const minY = Math.min(...ys);\n  const maxY = Math.max(...ys);\n  const rangeX = maxX - minX || 1;\n  const rangeY = maxY - minY || 1;\n\n  // Group by product\n  const groups = points.reduce((acc, pt) => {\n    if (!acc[pt.product]) acc[pt.product] = [];\n    acc[pt.product].push(pt);\n    return acc;\n  }, {});\n\n  // Assign a distinct HSL color per product\n  const productNames = Object.keys(groups);\n  const colors = {};\n  productNames.forEach((name, i) => {\n    const hue = Math.round(i * 360 / productNames.length);\n    colors[name] = `hsl(${hue}, 70%, 60%)`;\n  });\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"h-full relative overflow-hidden rounded-lg bg-white shadow\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"absolute inset-0 bg-gradient-to-r from-yellow-50 to-orange-50 opacity-30 rounded-lg\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 65,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"relative h-full p-4 flex flex-col\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"flex flex-wrap mb-2\",\n        children: productNames.map(name => /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex items-center mr-4 mb-1 text-xs\",\n          children: [/*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"w-3 h-3 rounded-full mr-1\",\n            style: {\n              backgroundColor: colors[name]\n            }\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 71,\n            columnNumber: 15\n          }, this), name]\n        }, name, true, {\n          fileName: _jsxFileName,\n          lineNumber: 70,\n          columnNumber: 13\n        }, this))\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 68,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"flex-1 relative border-l border-b border-gray-300\",\n        children: points.map((pt, idx) => {\n          // Normalize to percent of container\n          const leftPct = (pt.x - minX) / rangeX * 100;\n          const bottomPct = (pt.y - minY) / rangeY * 100;\n          return /*#__PURE__*/_jsxDEV(\"div\", {\n            title: `${pt.product}\\nPrice: $${pt.x.toFixed(2)}\\nDemand: ${pt.y.toFixed(2)}`,\n            className: \"absolute rounded-full w-4 h-4 -ml-2 -mt-2\",\n            style: {\n              left: `${leftPct}%`,\n              bottom: `${bottomPct}%`,\n              backgroundColor: colors[pt.product],\n              opacity: 0.8\n            }\n          }, idx, false, {\n            fileName: _jsxFileName,\n            lineNumber: 88,\n            columnNumber: 15\n          }, this);\n        })\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 81,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"flex justify-between text-xs text-gray-500 mt-2\",\n        children: [/*#__PURE__*/_jsxDEV(\"span\", {\n          children: [\"$\", minX.toFixed(2)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 105,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n          children: [\"$\", maxX.toFixed(2)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 106,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 104,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"absolute top-1/2 left-0 transform -translate-y-1/2 -rotate-90 origin-left text-xs text-gray-500\",\n        children: \"Demand\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 108,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 66,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 63,\n    columnNumber: 5\n  }, this);\n};\n_c = PriceSensitivityHeatmap;\nexport default PriceSensitivityHeatmap;\nvar _c;\n$RefreshReg$(_c, \"PriceSensitivityHeatmap\");","map":{"version":3,"names":["React","jsxDEV","_jsxDEV","PriceSensitivityHeatmap","data","Array","isArray","length","className","children","fileName","_jsxFileName","lineNumber","columnNumber","points","flatMap","d","pricePoints","map","price","idx","_d$demand$idx","product","x","y","demand","xs","pt","ys","minX","Math","min","maxX","max","minY","maxY","rangeX","rangeY","groups","reduce","acc","push","productNames","Object","keys","colors","forEach","name","i","hue","round","style","backgroundColor","leftPct","bottomPct","title","toFixed","left","bottom","opacity","_c","$RefreshReg$"],"sources":["C:/Users/laksh/Downloads/ffl/smart-dynamic-pricing-fixed/frontend/src/components/PriceSensitivityHeatmap.tsx"],"sourcesContent":["import React from 'react';\n\ntype HeatmapDatum = {\n  product: string;\n  pricePoints: number[];\n  demand: number[];\n};\n\ntype PriceSensitivityHeatmapProps = {\n  /**\n   * Array of products with their price points and corresponding demand values.\n   * Example shape:\n   * [ { product: 'Premium Headphones', pricePoints: [50, 60, ...], demand: [120, 100, ...] }, ... ]\n   */\n  data?: HeatmapDatum[];\n};\n\nconst PriceSensitivityHeatmap: React.FC<PriceSensitivityHeatmapProps> = ({ data = [] }) => {\n  // No data → placeholder\n  if (!Array.isArray(data) || data.length === 0) {\n    return (\n      <div className=\"h-full flex items-center justify-center bg-gray-100 text-gray-500 rounded-lg\">\n        No data available\n      </div>\n    );\n  }\n\n  // Flatten all (x,y) points across products\n  const points = data.flatMap((d) =>\n    d.pricePoints.map((price, idx) => ({\n      product: d.product,\n      x: price,\n      y: d.demand[idx] ?? 0,\n    }))\n  );\n\n  // Compute extents for scaling\n  const xs = points.map((pt) => pt.x);\n  const ys = points.map((pt) => pt.y);\n  const minX = Math.min(...xs);\n  const maxX = Math.max(...xs);\n  const minY = Math.min(...ys);\n  const maxY = Math.max(...ys);\n  const rangeX = maxX - minX || 1;\n  const rangeY = maxY - minY || 1;\n\n  // Group by product\n  const groups = points.reduce<Record<string, typeof points>>((acc, pt) => {\n    if (!acc[pt.product]) acc[pt.product] = [];\n    acc[pt.product].push(pt);\n    return acc;\n  }, {} as Record<string, typeof points>);\n\n  // Assign a distinct HSL color per product\n  const productNames = Object.keys(groups);\n  const colors: Record<string, string> = {};\n  productNames.forEach((name, i) => {\n    const hue = Math.round((i * 360) / productNames.length);\n    colors[name] = `hsl(${hue}, 70%, 60%)`;\n  });\n\n  return (\n    <div className=\"h-full relative overflow-hidden rounded-lg bg-white shadow\">\n      {/* subtle gradient background */}\n      <div className=\"absolute inset-0 bg-gradient-to-r from-yellow-50 to-orange-50 opacity-30 rounded-lg\" />\n      <div className=\"relative h-full p-4 flex flex-col\">\n        {/* Legend */}\n        <div className=\"flex flex-wrap mb-2\">\n          {productNames.map((name) => (\n            <div key={name} className=\"flex items-center mr-4 mb-1 text-xs\">\n              <span\n                className=\"w-3 h-3 rounded-full mr-1\"\n                style={{ backgroundColor: colors[name] }}\n              />\n              {name}\n            </div>\n          ))}\n        </div>\n\n        {/* Heatmap axes container */}\n        <div className=\"flex-1 relative border-l border-b border-gray-300\">\n          {/* Plot each point */}\n          {points.map((pt, idx) => {\n            // Normalize to percent of container\n            const leftPct = ((pt.x - minX) / rangeX) * 100;\n            const bottomPct = ((pt.y - minY) / rangeY) * 100;\n            return (\n              <div\n                key={idx}\n                title={`${pt.product}\\nPrice: $${pt.x.toFixed(2)}\\nDemand: ${pt.y.toFixed(2)}`}\n                className=\"absolute rounded-full w-4 h-4 -ml-2 -mt-2\"\n                style={{\n                  left: `${leftPct}%`,\n                  bottom: `${bottomPct}%`,\n                  backgroundColor: colors[pt.product],\n                  opacity: 0.8,\n                }}\n              />\n            );\n          })}\n        </div>\n\n        {/* Axis labels */}\n        <div className=\"flex justify-between text-xs text-gray-500 mt-2\">\n          <span>${minX.toFixed(2)}</span>\n          <span>${maxX.toFixed(2)}</span>\n        </div>\n        <div className=\"absolute top-1/2 left-0 transform -translate-y-1/2 -rotate-90 origin-left text-xs text-gray-500\">Demand</div>\n      </div>\n    </div>\n  );\n};\n\nexport default PriceSensitivityHeatmap;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}