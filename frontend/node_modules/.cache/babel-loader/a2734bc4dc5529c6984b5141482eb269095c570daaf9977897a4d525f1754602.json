{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\laksh\\\\Downloads\\\\ffl\\\\smart-dynamic-pricing-fixed\\\\frontend\\\\src\\\\components\\\\PriceSensitivityHeatmap.tsx\";\n// src/components/PriceSensitivityHeatmap.tsx\nimport React from 'react';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst PriceSensitivityHeatmap = ({\n  products\n}) => {\n  // Guard: no products → placeholder\n  if (!Array.isArray(products) || products.length === 0) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"h-full flex items-center justify-center bg-gray-100 text-gray-500 rounded-lg\",\n      children: \"No data available\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 14,\n      columnNumber: 7\n    }, this);\n  }\n\n  // Build data points\n  const dataPoints = [];\n  products.forEach(p => {\n    const base = typeof p.base_price === 'number' ? p.base_price : typeof p.basePrice === 'number' ? p.basePrice : 100;\n    for (let pct = 70; pct <= 130; pct += 10) {\n      const price = base * (pct / 100);\n      const demand = 100 * (100 / pct) ** 1.5 * (0.9 + Math.random() * 0.2);\n      dataPoints.push({\n        x: price,\n        y: demand,\n        product: p.name || 'Unknown'\n      });\n    }\n  });\n  if (dataPoints.length === 0) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"h-full flex items-center justify-center bg-gray-100 text-gray-500 rounded-lg\",\n      children: \"No data available\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 33,\n      columnNumber: 7\n    }, this);\n  }\n  const xs = dataPoints.map(d => typeof d.x === 'number' ? d.x : 0);\n  const ys = dataPoints.map(d => typeof d.y === 'number' ? d.y : 0);\n  const minX = Math.min(...xs);\n  const maxX = Math.max(...xs);\n  const minY = Math.min(...ys);\n  const maxY = Math.max(...ys);\n  const normalized = dataPoints.map(d => ({\n    ...d,\n    nx: ((typeof d.x === 'number' ? d.x : 0) - minX) / (maxX - minX) * 100,\n    ny: ((typeof d.y === 'number' ? d.y : 0) - minY) / (maxY - minY) * 100\n  }));\n  const groups = {};\n  normalized.forEach(pt => {\n    groups[pt.product] = groups[pt.product] || [];\n    groups[pt.product].push(pt);\n  });\n  const colors = {};\n  Object.keys(groups).forEach((prod, i) => {\n    const hue = i * 137 % 360;\n    colors[prod] = `hsl(${hue},70%,60%)`;\n  });\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"h-full relative overflow-hidden rounded-lg bg-white shadow\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"absolute inset-0 bg-gradient-to-r from-yellow-50 to-orange-50 opacity-50 rounded-lg\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 66,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"relative h-full p-4\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"flex mb-2\",\n        children: Object.keys(groups).map(prod => /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex items-center mr-4 text-xs\",\n          children: [/*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"w-3 h-3 rounded-full mr-1\",\n            style: {\n              backgroundColor: colors[prod]\n            }\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 71,\n            columnNumber: 15\n          }, this), prod]\n        }, prod, true, {\n          fileName: _jsxFileName,\n          lineNumber: 70,\n          columnNumber: 13\n        }, this))\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 68,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"h-[calc(100%-2rem)] relative border-b border-l border-gray-300\",\n        children: Object.entries(groups).map(([prod, pts], gi) => pts.map((pt, pi) => /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"absolute w-4 h-4 rounded-full -ml-2 -mt-2\",\n          style: {\n            left: `${pt.nx}%`,\n            bottom: `${pt.ny}%`,\n            backgroundColor: colors[prod],\n            opacity: 0.7\n          },\n          title: `${prod}: $${typeof pt.x === 'number' ? pt.x.toFixed(2) : '0.00'}, ${typeof pt.y === 'number' ? pt.y.toFixed(2) : '0.00'}`\n        }, `${gi}-${pi}`, false, {\n          fileName: _jsxFileName,\n          lineNumber: 82,\n          columnNumber: 15\n        }, this)))\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 79,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 67,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 65,\n    columnNumber: 5\n  }, this);\n};\n_c = PriceSensitivityHeatmap;\nexport default PriceSensitivityHeatmap;\nvar _c;\n$RefreshReg$(_c, \"PriceSensitivityHeatmap\");","map":{"version":3,"names":["React","jsxDEV","_jsxDEV","PriceSensitivityHeatmap","products","Array","isArray","length","className","children","fileName","_jsxFileName","lineNumber","columnNumber","dataPoints","forEach","p","base","base_price","basePrice","pct","price","demand","Math","random","push","x","y","product","name","xs","map","d","ys","minX","min","maxX","max","minY","maxY","normalized","nx","ny","groups","pt","colors","Object","keys","prod","i","hue","style","backgroundColor","entries","pts","gi","pi","left","bottom","opacity","title","toFixed","_c","$RefreshReg$"],"sources":["C:/Users/laksh/Downloads/ffl/smart-dynamic-pricing-fixed/frontend/src/components/PriceSensitivityHeatmap.tsx"],"sourcesContent":["// src/components/PriceSensitivityHeatmap.tsx\nimport React from 'react';\n\ntype DataPoint = { x?: number; y?: number; product: string };\n\ntype PriceSensitivityHeatmapProps = {\n  products?: Array<{ name: string; base_price?: number; basePrice?: number }>;\n};\n\nconst PriceSensitivityHeatmap: React.FC<PriceSensitivityHeatmapProps> = ({ products }) => {\n  // Guard: no products → placeholder\n  if (!Array.isArray(products) || products.length === 0) {\n    return (\n      <div className=\"h-full flex items-center justify-center bg-gray-100 text-gray-500 rounded-lg\">\n        No data available\n      </div>\n    );\n  }\n\n  // Build data points\n  const dataPoints: DataPoint[] = [];\n  products.forEach((p) => {\n    const base = typeof p.base_price === 'number' ? p.base_price : typeof p.basePrice === 'number' ? p.basePrice : 100;\n    for (let pct = 70; pct <= 130; pct += 10) {\n      const price = base * (pct / 100);\n      const demand = 100 * (100 / pct) ** 1.5 * (0.9 + Math.random() * 0.2);\n      dataPoints.push({ x: price, y: demand, product: p.name || 'Unknown' });\n    }\n  });\n\n  if (dataPoints.length === 0) {\n    return (\n      <div className=\"h-full flex items-center justify-center bg-gray-100 text-gray-500 rounded-lg\">\n        No data available\n      </div>\n    );\n  }\n\n  const xs = dataPoints.map((d) => (typeof d.x === 'number' ? d.x : 0));\n  const ys = dataPoints.map((d) => (typeof d.y === 'number' ? d.y : 0));\n  const minX = Math.min(...xs);\n  const maxX = Math.max(...xs);\n  const minY = Math.min(...ys);\n  const maxY = Math.max(...ys);\n\n  const normalized = dataPoints.map((d) => ({\n    ...d,\n    nx: ((typeof d.x === 'number' ? d.x : 0) - minX) / (maxX - minX) * 100,\n    ny: ((typeof d.y === 'number' ? d.y : 0) - minY) / (maxY - minY) * 100,\n  }));\n\n  const groups: Record<string, typeof normalized> = {};\n  normalized.forEach((pt) => {\n    groups[pt.product] = groups[pt.product] || [];\n    groups[pt.product].push(pt);\n  });\n\n  const colors: Record<string, string> = {};\n  Object.keys(groups).forEach((prod, i) => {\n    const hue = (i * 137) % 360;\n    colors[prod] = `hsl(${hue},70%,60%)`;\n  });\n\n  return (\n    <div className=\"h-full relative overflow-hidden rounded-lg bg-white shadow\">\n      <div className=\"absolute inset-0 bg-gradient-to-r from-yellow-50 to-orange-50 opacity-50 rounded-lg\"></div>\n      <div className=\"relative h-full p-4\">\n        <div className=\"flex mb-2\">\n          {Object.keys(groups).map((prod) => (\n            <div key={prod} className=\"flex items-center mr-4 text-xs\">\n              <span\n                className=\"w-3 h-3 rounded-full mr-1\"\n                style={{ backgroundColor: colors[prod] }}\n              />\n              {prod}\n            </div>\n          ))}\n        </div>\n        <div className=\"h-[calc(100%-2rem)] relative border-b border-l border-gray-300\">\n          {Object.entries(groups).map(([prod, pts], gi) =>\n            pts.map((pt, pi) => (\n              <div\n                key={`${gi}-${pi}`}\n                className=\"absolute w-4 h-4 rounded-full -ml-2 -mt-2\"\n                style={{\n                  left: `${pt.nx}%`,\n                  bottom: `${pt.ny}%`,\n                  backgroundColor: colors[prod],\n                  opacity: 0.7,\n                }}\n                title={`${prod}: $${typeof pt.x === 'number' ? pt.x.toFixed(2) : '0.00'}, ${typeof pt.y === 'number' ? pt.y.toFixed(2) : '0.00'}`}\n              />\n            ))\n          )}\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default PriceSensitivityHeatmap;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}